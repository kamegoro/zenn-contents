---
title: "jsPDF・html2canvasで動的なデータをPDF出力した話"
emoji: "🙆"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

https://zenn.dev/praha/articles/aab4b7cbe175f0

## はじめに

初めまして、かめごろと申します。
今日は、業務で `jsPDF`・`html2canvas` を用いた動的なページデータの PDF 出力実装で苦戦したので思い出として記事を書いていこうと思います。

`Svelte.kit` でサンプルアプリを作りましたが `React`、`Vue` を触っている方でも分かる内容になっています。
ぜひ最後までお付き合いください。

今回のコードのリポジトリです。

https://github.com/kamegoro/screen-pdf-output-app

## TL;DR

- ページ数が多くなる場合には向いていない。
- 外部から読み込む画像は全てを描画することができなかった。
- ページ数が多くなるとブラウザがクラッシュする。
- まだ、改善の余地はありそう。

## なぜ jsPDF と html2Canvas でやってみようとなったのか

### html2canvas

https://github.com/niklasvh/html2canvas/

`html2canvas`は、ブラウザにレンダリングされている Element を CanvasElement に描画することで画像化することが出来るライブラリです。

既に、社内の他プロジェクトで運用されており導入コストが低かった点で採用しました。

### jsPDF

https://github.com/parallax/jsPDF

JavaScript で PDF を生成するためのライブラリです。
`jsPDF`の他に、`pdfMake`や`pdf-lib`等のライブラリでも可能ですが、直近一年間の使用率や以前使用した経験があった点から採用しました。

![pdf-npm-trend](/Images/pdflibary.png)

## 実装詳細

<!-- 参考リポジトリを載せる -->

## 苦労したところ

## 良かったところ

## 悪かったところ
